# 快速开始指南

## 5分钟快速部署

### 第一步：注册小程序账号
1. 访问 https://mp.weixin.qq.com/
2. 注册小程序账号（个人开发者即可）
3. 获取 AppID

### 第二步：开通云开发
1. 打开微信开发者工具
2. 创建新项目，选择"小程序"，填入 AppID
3. 点击顶部菜单 **云开发** -> **开通云开发**
4. 选择 **免费版**（个人开发者完全够用）
5. 创建云环境，记录 **环境ID**（如：`cloud1-xxx`）

### 第三步：配置云环境ID
1. 打开 `miniprogram/app.js`
2. 找到这一行：
```javascript
env: 'your-env-id', // 需要替换为你的云环境ID
```
3. 替换为你的实际环境ID：
```javascript
env: 'cloud1-xxx', // 你的云环境ID
```

### 第四步：创建数据库集合
1. 在微信开发者工具中，点击 **云开发** -> **云开发控制台**
2. 选择 **数据库**
3. 点击 **+** 创建集合，创建两个集合：
   - `rooms` - 房间集合
   - `players` - 玩家集合

### 第五步：上传云函数
在微信开发者工具中，右键点击每个云函数文件夹，选择 **上传并部署：云端安装依赖（不上传node_modules）**：

1. `cloudfunctions/createRoom`
2. `cloudfunctions/getRoomInfo`
3. `cloudfunctions/joinRoom`
4. `cloudfunctions/dealCards`
5. `cloudfunctions/resetRoom`

**提示**：上传云函数时，确保选择正确的云环境！

### 第六步：测试运行
1. 在微信开发者工具中点击 **编译**
2. 测试创建房间功能
3. 测试加入房间功能
4. 测试发牌功能

## 常见问题

### Q: 云函数调用失败？
**A:** 检查以下几点：
- 云函数是否已上传并部署成功
- 云环境ID是否正确配置在 `app.js` 中
- 云函数名称是否与代码中调用的名称一致

### Q: 数据库操作失败？
**A:** 检查以下几点：
- 是否已创建 `rooms` 和 `players` 集合
- 集合名称是否完全匹配（区分大小写）
- 数据库权限设置是否正确

### Q: 小程序无法打开？
**A:** 检查以下几点：
- AppID 是否正确
- 云开发是否已开通
- 基础库版本是否 >= 2.2.3

## 部署检查清单

- [ ] 已注册小程序账号并获取 AppID
- [ ] 已开通云开发并创建云环境
- [ ] 已配置云环境ID到 `app.js`
- [ ] 已创建 `rooms` 和 `players` 数据库集合
- [ ] 已上传并部署所有5个云函数
- [ ] 已测试创建房间功能
- [ ] 已测试加入房间功能
- [ ] 已测试发牌功能

## 下一步

完成以上步骤后，你就可以：
1. 在微信开发者工具中预览小程序
2. 上传代码版本
3. 提交审核（如需发布）
4. 分享给朋友使用

## 需要帮助？

如果遇到问题，请检查：
1. 微信开发者工具的控制台错误信息
2. 云开发控制台的日志
3. README.md 中的详细说明

祝使用愉快！🎉
