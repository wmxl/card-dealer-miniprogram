<!--pages/index/index.wxml-->
<view class="container">
  <!-- è§„åˆ™æŒ‰é’® -->
  <view class="rules-btn" bindtap="showRules">
    <text>ğŸ“– è§„åˆ™</text>
  </view>

  <view class="header">
    <text class="title">é˜¿ç“¦éš†</text>
    <text class="subtitle">æ¡Œæ¸¸åŠ©æ‰‹</text>
  </view>

  <view class="content">
    <!-- ç»§ç»­æ¸¸æˆ -->
    <view wx:if="{{hasCurrentRoom}}" class="continue-section">
      <view class="continue-info">
        <text class="continue-label">ä¸Šæ¬¡æ¸¸æˆ</text>
        <text class="continue-room">æˆ¿é—´ï¼š{{currentRoom.room_id}}</text>
        <text class="continue-player">{{currentRoom.nickname}} ({{currentRoom.player_number}}å·)</text>
      </view>
      <button class="btn btn-continue" bindtap="continueGame" style="position: relative; left: 0rpx; top: 12rpx">ç»§ç»­æ¸¸æˆ</button>

      <view class="divider">
        <text>æˆ–</text>
      </view>
    </view>

    <button class="btn btn-primary" bindtap="createRoom">åˆ›å»ºæˆ¿é—´</button>

    <view class="divider">
      <text>æˆ–</text>
    </view>

    <view class="input-group">
      <input
        class="input"
        placeholder="è¾“å…¥æˆ¿é—´å·"
        value="{{roomId}}"
        bindinput="inputRoomId"
        maxlength="6"
      />
      <button class="btn btn-secondary" bindtap="joinRoom" style="position: relative; left: 0rpx; top: 5rpx">åŠ å…¥æˆ¿é—´</button>
    </view>
  </view>

  <!-- è§„åˆ™å¼¹çª— -->
  <rules-modal show="{{showRulesModal}}" bind:close="hideRules"></rules-modal>
</view>
